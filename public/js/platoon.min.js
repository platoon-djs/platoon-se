!function(t,n){"use strict";function e(){return{link:function(t,n){n.html((new Date).getFullYear())}}}function o(t,n,e){var o=['<div class="platoon-rating-container">','<div class="platoon-rating" platoon-rating="rating" ng-repeat="rating in ratings"></div>',"</div>"].join("");return{replace:!0,scope:{url:"@platoonRatings",ratings:"=?",interval:"@?"},link:function(o,i){var a=o.interval?parseInt(o.interval):6e3;t.get(o.url).then(function(t){var r=o.ratings=t.data;r.length>1&&e(function(){var t=i.children(),e=0;t.hide().first().show(),n(function(){e++,t.fadeOut(200),setTimeout(function(){t.eq(e%t.length).fadeIn()},220)},a)})})},template:o}}function i(){var t=['<span class="stars">','<i class="fa fa-star" ng-class="{faded:s>rating.rating}" ng-repeat="s in [1, 2, 3, 4, 5]"></i>',"</span>","<p>{{ rating.text }}</p>","<p><em>- {{ rating.name }}</em></p>"].join("");return{scope:{rating:"=platoonRating"},template:t}}function a(t){function n(n,e){if(n.delta&&!isNaN(n.delta)&&n.scroll){var o=!0,i=parseInt(n.delta);$(t).scroll(function(a){!o&&t.scrollY<i?(o=!0,e.toggleClass(n.scroll)):o&&t.scrollY>i&&(o=!1,e.toggleClass(n.scroll))})}}return{restrict:"A",scope:{delta:"@scrollDelta",scroll:"@scrollSpy"},link:n}}function r(t){}function s(){var t=['<div class="col-md-12">','<div class="thumbnail site-about-member media-object">','<div class="media-left">','<img ng-src="{{ member.image }}" alt="{{ member.name }}">',"</div>",'<div class="media-body">',"<h3>{{ member.name }}</h3>",'<p class="info" ng-if="member.post">{{ member.post }}</p>',"<p>{{ member.description }}</p>","</div>","</div>","</div>"].join("");return{restrict:"A",scope:{member:"=platoonMember"},template:t}}function l(){var t=['<div class="col-lg-2 col-md-3 col-sm-3 col-xs-6">','<div class="thumbnail site-about-prospect">','<img ng-src="{{ prospect.image }}" alt="{{ prospect.name }}">','<div class="caption">',"<h3>{{ prospect.name }}</h3>","<p class=\"info\">{{ prospect.post ? prospect.post : '&nbsp;' }}</p>","</div>","</div>","</div>"].join("");return{restrict:"A",scope:{prospect:"=platoonProspect"},template:t}}function c(t,n){t.msg={},t.pending,t.getLocation=function(t){return!t||t.length<2?[]:n.get("/booking/place/"+t).then(function(t){return t.data.predictions?t.data.predictions.map(function(t){return t.description}):[]})},t.submit=function(e){var o=e.$valid&&void 0!==t.msg.captcha&&t.msg.captcha!==!1;o&&(t.pending=!0,n.post("/booking/send",t.msg).then(function(n){console.log(n.data),t.messageSent=!0},function(t){console.log(t.data)})["finally"](function(){t.pending=!1}))}}n.module("components",["components.navbar","components.footer"]),n.module("components.footer",[]).directive("currentYear",e).directive("platoonRating",i),o.$inject=["$http","$interval","$timeout"],n.module("components.navbar",[]).directive("scrollSpy",a),a.$inject=["$window"],n.module("pages",["pages.about","pages.booking"]),n.module("pages.about",[]).controller("AboutController",r).directive("platoonMember",s).directive("platoonProspect",l),r.$inject=["$http"],n.module("pages.booking",["ui.bootstrap"]).controller("BookingController",c),c.$inject=["$scope","$http"],n.module("platoon",["pages","components"])}(window,window.angular);
//# sourceMappingURL=platoon.js.map
